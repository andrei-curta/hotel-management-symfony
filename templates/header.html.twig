<header id="header" class="fixed-top d-flex align-items-center">
    <div class="container">
        <div class="header-container d-flex align-items-center">
            <div class="logo mr-auto">
                <h1 class="text-light"><a href={{ "/Hotel-Management/public/#{app.request.locale}/main#about" }}><span>Bethany</span></a>
                </h1>
                <!-- Uncomment below if you prefer to use an image logo -->
                <!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
            </div>

            <nav class="nav-menu d-none d-lg-block">
                <ul>
                    <li class="active">
                        <a href={{ "/Hotel-Management/public/#{app.request.locale}/main#about" }}>
                            {% trans %} Home {% endtrans %}
                        </a>
                    </li>
                    <li><a href={{ "/Hotel-Management/public/#{app.request.locale}/main#about" }}>
                            {% trans %} About {% endtrans %}
                        </a>
                    </li>
                    <li>
                        <a href={{ "/Hotel-Management/public/#{app.request.locale}/main#services" }}>
                            {% trans %} Services {% endtrans %}
                        </a>
                    </li>
                    <li>
                        <a href={{ "/Hotel-Management/public/#{app.request.locale}/main#portfolio" }}>
                            {% trans %} Appartments {% endtrans %}
                        </a>
                    </li>
                    <li>
                        <a href={{ "/Hotel-Management/public/#{app.request.locale}/main#team" }}>
                            {% trans %} Team {% endtrans %}
                        </a>
                    </li>
                    {% if is_granted('ROLE_ADMIN') %}
                        <li class="drop-down">
                            <a href="">
                                ADMIN
                            </a>
                            <ul>
                                <li>
                                    <a href={{ "/Hotel-Management/public/#{app.request.locale}/facility" }}>
                                        {% trans %}  Facilities {% endtrans %}
                                    </a>
                                </li>
                                <li>
                                    <a href={{ "/Hotel-Management/public/#{app.request.locale}/service" }}>
                                        {% trans %}   Services{% endtrans %}
                                    </a>
                                </li>
                                <li>
                                    <a href={{ "/Hotel-Management/public/#{app.request.locale}/servicepricing" }}>
                                        {% trans %}  Service pricing{% endtrans %}
                                    </a>
                                </li>
                                <li>
                                    <a href={{ "/Hotel-Management/public/#{app.request.locale}/appartment" }}>
                                        {% trans %} Appartments {% endtrans %}
                                    </a>
                                </li>
                                <li>
                                    <a href={{ "/Hotel-Management/public/#{app.request.locale}/appartmentpricing" }}>
                                        {% trans %}   Appartment pricing {% endtrans %}
                                    </a>
                                </li>

                                {# <li class="drop-down"><a href="#">Drop Down 2</a> #}
                                {# <ul> #}
                                {# <li><a href="/facility">Deep Drop Down 1</a></li> #}
                                {# <li><a href="#">Deep Drop Down 2</a></li> #}
                                {# <li><a href="#">Deep Drop Down 3</a></li> #}
                                {# <li><a href="#">Deep Drop Down 4</a></li> #}
                                {# <li><a href="#">Deep Drop Down 5</a></li> #}
                                {# </ul> #}
                                {# </li> #}

                            </ul>
                        </li>
                    {% endif %}
                    <li>
                        <a href="#contact">
                            {% trans %} Contact  {% endtrans %}
                        </a>
                    </li>

                    {% if app.user == null %}
                        <li class="get-started">
                            <a href={{ "/Hotel-Management/public/#{app.request.locale}/login" }}>
                                {% trans %}  Login {% endtrans %}
                            </a>
                        </li>
                    {% else %}
                        <li class="get-started">
                            <a href={{ "/Hotel-Management/public/#{app.request.locale}/logout" }}>
                                {% trans %}  Logout {% endtrans %}
                            </a>
                        </li>
                    {% endif %}

                    {% set req = app.request %}
                    {% for locale in ["ro", "en"] %}
                        {# {% if locale != req.getLocale() %} #}
                        <link rel="alternate" hreflang="{{ locale }}" href="{{ absolute_url(
                            path(
                                req.attributes.get('_route'),
                                req.attributes.get('_route_params')|merge({'_locale': locale})
                            )
                        ) }}"/>
                        {# {% endif %} #}
                    {% endfor %}

                     <li onclick="changeLocale('ro')" class="{{ app.request.locale == 'ro' ? 'green-text' : '' }}">
                     <a>
                     RO
                     </a>
                     </li>

                     <li onclick="changeLocale('en')" class="{{ app.request.locale == 'en' ? 'green-text' : '' }}">
{#                     <a href="{{ localized_path('__current__', locale) }}">#}
{#                     EN#}
{#                     </a>#}
                     </li>

                </ul>

            </nav><!-- .nav-menu -->
        </div><!-- End Header Container -->
    </div>
</header>

<script>
    changeLocale = (localeName) => {
        const url = `http://localhost:8012/Hotel-Management/public/ro/locale/${localeName}`;
        const xhr = new XMLHttpRequest();
        xhr.open("POST", url, true);

//Send the proper header information along with the request
        xhr.setRequestHeader("Content-type", "application/json");

        xhr.send();
        console.log(localeName)
    }
</script>